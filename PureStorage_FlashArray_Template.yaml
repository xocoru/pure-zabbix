zabbix_export:
  version: '6.0'
  date: '2024-09-06T12:30:50Z'
  groups:
    - uuid: e960332b3f6c46a1956486d4f3f99fce
      name: 'Templates/Server hardware'
  templates:
    - uuid: 73b3ae69ef8c4bafacc40ff738532508
      template: 'Template PureStorage FlashArray'
      name: 'Template PureStorage FlashArray'
      description: |
        PureStorage FlashArray Template 
        by Arthur Ivanov (arthur.ivanov@gmail.com)
        
        https://github.com/xocoru/pure-zabbix
      groups:
        - name: 'Templates/Server hardware'
      items:
        - uuid: 67257fc676144bd4b8a7f21368565ff0
          name: 'Array: Average IO size (mirrored_write)'
          type: DEPENDENT
          key: 'purefa_array_performance_average_bytes["bytes_per_mirrored_write"]'
          delay: '0'
          value_type: FLOAT
          units: B
          description: |
            Average operations size in bytes (bytes/operation)
            
            Operation: mirrored_write
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_average_bytes{dimension="bytes_per_mirrored_write"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: bytes_per_mirrored_write
            - tag: entity
              value: array
            - tag: kind
              value: 'io size'
            - tag: scope
              value: performance
        - uuid: 17cef4b99d744db7a675d33952aa4913
          name: 'Array: Average IO size'
          type: DEPENDENT
          key: 'purefa_array_performance_average_bytes["bytes_per_op"]'
          delay: '0'
          value_type: FLOAT
          units: B
          description: |
            Average operations size in bytes (bytes/operation)
            
            Operation: any
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_average_bytes{dimension="bytes_per_op"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: bytes_per_op
            - tag: entity
              value: array
            - tag: kind
              value: 'io size'
            - tag: scope
              value: performance
        - uuid: e79a8f49a6c34968a1afd5fee97ccf72
          name: 'Array: Average IO size (read)'
          type: DEPENDENT
          key: 'purefa_array_performance_average_bytes["bytes_per_read"]'
          delay: '0'
          value_type: FLOAT
          units: B
          description: |
            Average operations size in bytes (bytes/operation)
            
            Operation: read
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_average_bytes{dimension="bytes_per_read"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: bytes_per_read
            - tag: entity
              value: array
            - tag: kind
              value: 'io size'
            - tag: scope
              value: performance
        - uuid: ca92aee89d6244d1a4a3edea27c431d6
          name: 'Array: Average IO size (write)'
          type: DEPENDENT
          key: 'purefa_array_performance_average_bytes["bytes_per_write"]'
          delay: '0'
          value_type: FLOAT
          units: B
          description: |
            Average operations size in bytes (bytes/operation)
            
            Operation: write
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_average_bytes{dimension="bytes_per_write"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: bytes_per_write
            - tag: entity
              value: array
            - tag: kind
              value: 'io size'
            - tag: scope
              value: performance
        - uuid: ac70a7f9776e4b72ab0c07cceca9966e
          name: 'Array: Bandwidth (Mirrored write bytes per second)'
          type: DEPENDENT
          key: 'purefa_array_performance_bandwidth_bytes["mirrored_write_bytes_per_sec"]'
          delay: '0'
          value_type: FLOAT
          units: B
          description: |
            Array bandwidth in bytes (bytes/second)
            
            Dimension: mirrored_write_bytes_per_sec
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_bandwidth_bytes{dimension="mirrored_write_bytes_per_sec"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: mirrored_write_bytes_per_sec
            - tag: entity
              value: array
            - tag: kind
              value: bandwidth
            - tag: scope
              value: performance
        - uuid: a3da0109d96b493096883a35c0a6a8a0
          name: 'Array: Bandwidth (Read bytes per second)'
          type: DEPENDENT
          key: 'purefa_array_performance_bandwidth_bytes["read_bytes_per_sec"]'
          delay: '0'
          value_type: FLOAT
          units: B
          description: |
            Array bandwidth in bytes (bytes/second)
            
            Dimension: read_bytes_per_sec
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_bandwidth_bytes{dimension="read_bytes_per_sec"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: read_bytes_per_sec
            - tag: entity
              value: array
            - tag: kind
              value: bandwidth
            - tag: scope
              value: performance
          triggers:
            - uuid: a29a413e116c4e05b63b14dc642b698f
              expression: 'avg(/Template PureStorage FlashArray/purefa_array_performance_bandwidth_bytes["read_bytes_per_sec"],15m) > 4G'
              name: 'Array: Avg Read Bandwidth > 4GB/s for 15m'
              priority: WARNING
              tags:
                - tag: scope
                  value: performance
        - uuid: c106d677e06a4d558a6b7dbccd08cd25
          name: 'Array: Bandwidth (Write bytes per second)'
          type: DEPENDENT
          key: 'purefa_array_performance_bandwidth_bytes["write_bytes_per_sec"]'
          delay: '0'
          value_type: FLOAT
          units: B
          description: |
            Array bandwidth in bytes (bytes/second)
            
            Dimension: write_bytes_per_sec
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_bandwidth_bytes{dimension="write_bytes_per_sec"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: write_bytes_per_sec
            - tag: entity
              value: array
            - tag: kind
              value: bandwidth
            - tag: scope
              value: performance
          triggers:
            - uuid: d8fb82343fc941c3adf7c6e6b2410225
              expression: 'avg(/Template PureStorage FlashArray/purefa_array_performance_bandwidth_bytes["write_bytes_per_sec"],15m) > 4G'
              name: 'Array: Avg Write Bandwidth > 4GB/s for 15m'
              priority: WARNING
              tags:
                - tag: scope
                  value: performance
        - uuid: 7390c48ca3694876a8501c57fd9e5145
          name: 'Array: Latency (Local Queue OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["local_queue_usec_per_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: local_queue_usec_per_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="local_queue_usec_per_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: local_queue_usec_per_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: c9b17130688049e69e76ae1ad769a6f0
          name: 'Array: Latency (Queue Mirrored write OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["queue_usec_per_mirrored_write_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: queue_usec_per_mirrored_write_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="queue_usec_per_mirrored_write_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: queue_usec_per_mirrored_write_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: 7e07f1daa56744129f97139afcd942e5
          name: 'Array: Latency (Queue Read OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["queue_usec_per_read_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: queue_usec_per_read_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="queue_usec_per_read_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: queue_usec_per_read_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: d4d38d7d47dd4591979e7df2087d3dc1
          name: 'Array: Latency (Queue Write OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["queue_usec_per_write_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: queue_usec_per_write_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="queue_usec_per_write_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: queue_usec_per_write_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: cd892cc1c7dc4eb59c7c6bd8d9dcf17e
          name: 'Array: Latency (SAN Mirrored write OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["san_usec_per_mirrored_write_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: san_usec_per_mirrored_write_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="san_usec_per_mirrored_write_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: san_usec_per_mirrored_write_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: b6a7719805444118ad26a4566f866ee5
          name: 'Array: Latency (SAN Read OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["san_usec_per_read_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: san_usec_per_read_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="san_usec_per_read_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: san_usec_per_read_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: 10194545f85c416a808e9451cbc30096
          name: 'Array: Latency (SAN Write OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["san_usec_per_write_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: san_usec_per_write_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="san_usec_per_write_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: san_usec_per_write_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: ccd9a88bd3604e14833821c87a5ebb16
          name: 'Array: Latency (Service Mirrored write OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["service_usec_per_mirrored_write_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: service_usec_per_mirrored_write_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="service_usec_per_mirrored_write_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: service_usec_per_mirrored_write_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: 21f492733a4e414eb820f46e1fe0775d
          name: 'Array: Latency (Service Read OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["service_usec_per_read_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: service_usec_per_read_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="service_usec_per_read_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: service_usec_per_read_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: 430e303170f348f3bd132fb9987ff830
          name: 'Array: Latency (Service Read OPS Cache Reduction)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["service_usec_per_read_op_cache_reduction"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: service_usec_per_read_op_cache_reduction
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="service_usec_per_read_op_cache_reduction"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: service_usec_per_read_op_cache_reduction
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: d008ce3b7c8c4736a7780ea0afdd0b07
          name: 'Array: Latency (Service Write OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["service_usec_per_write_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: service_usec_per_write_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="service_usec_per_write_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: service_usec_per_write_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: 20c8e099049c444a8aa4aa0ae2057c8e
          name: 'Array: Latency (Mirrored Write OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["usec_per_mirrored_write_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: usec_per_mirrored_write_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="usec_per_mirrored_write_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: usec_per_mirrored_write_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: 8814971727fa4062824565dc2375330e
          name: 'Array: Latency (Other OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["usec_per_other_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: usec_per_other_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="usec_per_other_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: usec_per_other_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
        - uuid: e5b2d53201d74af89356827fe5cc8604
          name: 'Array: Latency (Read OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["usec_per_read_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: usec_per_read_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="usec_per_read_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: usec_per_read_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
          triggers:
            - uuid: 84751b5fe5684a028875f81541af064c
              expression: 'avg(/Template PureStorage FlashArray/purefa_array_performance_latency_usec["usec_per_read_op"],15m) > 10'
              name: 'Array: Avg Read Latency > 10ms for 15m'
              priority: WARNING
              tags:
                - tag: scope
                  value: performance
        - uuid: ef88e4f57281467584db6579df0d004d
          name: 'Array: Latency (Write OPS)'
          type: DEPENDENT
          key: 'purefa_array_performance_latency_usec["usec_per_write_op"]'
          delay: '0'
          value_type: FLOAT
          units: ms
          description: |
            Array latency (microsecond)
            
            Dimension: usec_per_write_op
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_latency_usec{dimension="usec_per_write_op"}'
                - value
                - ''
            - type: MULTIPLIER
              parameters:
                - '0.001'
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: usec_per_write_op
            - tag: entity
              value: array
            - tag: kind
              value: latency
            - tag: scope
              value: performance
          triggers:
            - uuid: 5b439ca2065c420ba5b2dfb334758f12
              expression: 'avg(/Template PureStorage FlashArray/purefa_array_performance_latency_usec["usec_per_write_op"],15m) > 10'
              name: 'Array: Avg Write Latency > 10ms for 15m'
              priority: WARNING
              tags:
                - tag: scope
                  value: performance
        - uuid: 4dd36382bf564771a5e813eb1d1ec0e6
          name: 'Array: Queue depth size'
          type: DEPENDENT
          key: purefa_array_performance_queue_depth_ops
          delay: '0'
          value_type: FLOAT
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - purefa_array_performance_queue_depth_ops
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: performance
        - uuid: a91ad88a99cb4dadbfd50388272fefff
          name: 'Array: Throughput OPS (Mirrored write)'
          type: DEPENDENT
          key: 'purefa_array_performance_throughput_iops["mirrored_writes_per_sec"]'
          delay: '0'
          value_type: FLOAT
          units: '!ops'
          description: |
            Array throughput in operations per second (operations/second)
            
            Dimension: mirrored_writes_per_sec
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_throughput_iops{dimension="mirrored_writes_per_sec"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: mirrored_writes_per_sec
            - tag: entity
              value: array
            - tag: kind
              value: throughput
            - tag: scope
              value: performance
        - uuid: b3a357c5512a4a1186e08ed5ad335f9b
          name: 'Array: Throughput OPS (Others)'
          type: DEPENDENT
          key: 'purefa_array_performance_throughput_iops["others_per_sec"]'
          delay: '0'
          value_type: FLOAT
          units: '!ops'
          description: |
            Array throughput in operations per second (operations/second)
            
            Dimension: others_per_sec
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_throughput_iops{dimension="others_per_sec"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: others_per_sec
            - tag: entity
              value: array
            - tag: kind
              value: throughput
            - tag: scope
              value: performance
        - uuid: e5b46911624449c28440a173a13dcac7
          name: 'Array: Throughput OPS (Read)'
          type: DEPENDENT
          key: 'purefa_array_performance_throughput_iops["reads_per_sec"]'
          delay: '0'
          value_type: FLOAT
          units: '!ops'
          description: |
            Array throughput in operations per second (operations/second)
            
            Dimension: reads_per_sec
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_throughput_iops{dimension="reads_per_sec"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: reads_per_sec
            - tag: entity
              value: array
            - tag: kind
              value: throughput
            - tag: scope
              value: performance
          triggers:
            - uuid: 5aaf202275f3490eb89c3eccf0cb726f
              expression: 'avg(/Template PureStorage FlashArray/purefa_array_performance_throughput_iops["reads_per_sec"],15m)>100000'
              name: 'Array: Avg. Read IOPS > 100K for 15m'
              priority: WARNING
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: performance
        - uuid: 4fe6ea7a56d6494d806f90ed9493edb5
          name: 'Array: Throughput OPS (Write)'
          type: DEPENDENT
          key: 'purefa_array_performance_throughput_iops["writes_per_sec"]'
          delay: '0'
          value_type: FLOAT
          units: '!ops'
          description: |
            Array throughput in operations per second (operations/second)
            
            Dimension: writes_per_sec
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_performance_throughput_iops{dimension="writes_per_sec"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: dimension
              value: writes_per_sec
            - tag: entity
              value: array
            - tag: kind
              value: throughput
            - tag: scope
              value: performance
          triggers:
            - uuid: 3dd336e207a44a61872e6401f1d8342a
              expression: 'avg(/Template PureStorage FlashArray/purefa_array_performance_throughput_iops["writes_per_sec"],15m)>100000'
              name: 'Array: Avg. Write IOPS > 100K for 15m'
              priority: WARNING
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: performance
        - uuid: 6e3796716a804e12b89b2bf6f8b76759
          name: 'Array: Space (Capacity)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["capacity"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="capacity"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: capacity
        - uuid: 9ad309b4ceeb4753a1a0c089028d2196
          name: 'Array: Space (Empty)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["empty"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="empty"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: empty
        - uuid: 31e8898c5bac4377a3dafbee9cf5b501
          name: 'Array: Space (Replication)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["replication"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="replication"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: replication
        - uuid: d903bf2cf2644ae7a55a7357ccb5fa24
          name: 'Array: Space (Shared)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["shared"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="shared"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: shared
        - uuid: 1fd5e1e6ac684dfb9cdb2455a6ae85ca
          name: 'Array: Space (Snapshots)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["snapshots"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="snapshots"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: snapshots
        - uuid: 0912675f8cdd47b788192ac826d4516d
          name: 'Array: Space (System)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["system"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="system"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: system
        - uuid: dba25c10dcc54bae9afc33bdcb346fe4
          name: 'Array: Space (Thin Provisioning)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["thin_provisioning"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="thin_provisioning"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: thin_provisioning
        - uuid: aea9b1d33dae41dc9e5ab45b96b8279e
          name: 'Array: Space (Total Physical)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["total_physical"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="total_physical"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: total_physical
        - uuid: 90f9de460bb4466aadb1310b8d1e2f2d
          name: 'Array: Space (Total Provisioned)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["total_provisioned"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="total_provisioned"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: total_provisioned
        - uuid: c2d4167989e24128b364539a92b64d68
          name: 'Array: Space (Total Reduction)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["total_reduction"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="total_reduction"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: total_reduction
        - uuid: 4860bc422f3940418788e51092a4f9fd
          name: 'Array: Space (Unique)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["unique"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="unique"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: unique
        - uuid: 55ead4419f7d42d797f8bce4d7eff286
          name: 'Array: Space (Virtual)'
          type: DEPENDENT
          key: 'purefa_array_space_bytes["virtual"]'
          delay: '0'
          value_type: FLOAT
          units: B
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - 'purefa_array_space_bytes{space="virtual"}'
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: scope
              value: space
            - tag: space
              value: virtual
        - uuid: 57b63cc567b84dcbbfd38d5c05f503e4
          name: 'Array: Space Data Reduction'
          type: DEPENDENT
          key: purefa_array_space_data_reduction_ratio
          delay: '0'
          value_type: FLOAT
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - purefa_array_space_data_reduction_ratio
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: kind
              value: space
            - tag: scope
              value: capacity
            - tag: scope
              value: space
        - uuid: 71c7b6c506b845118d5d5236e8ac782b
          name: 'Array: Space Utilization'
          type: DEPENDENT
          key: purefa_array_space_utilization
          delay: '0'
          value_type: FLOAT
          units: '%'
          preprocessing:
            - type: PROMETHEUS_PATTERN
              parameters:
                - purefa_array_space_utilization
                - value
                - ''
          master_item:
            key: purefa_raw_metrics
          tags:
            - tag: entity
              value: array
            - tag: kind
              value: space
            - tag: scope
              value: capacity
            - tag: scope
              value: space
          triggers:
            - uuid: 97312ae8b5a54334ad2dc8e04dc4f35e
              expression: 'avg(/Template PureStorage FlashArray/purefa_array_space_utilization,15m) > 80'
              name: 'Array: Space Utilization > 80%'
              priority: AVERAGE
              dependencies:
                - name: 'Array: Space Utilization > 90%'
                  expression: 'avg(/Template PureStorage FlashArray/purefa_array_space_utilization,15m) > 90'
              tags:
                - tag: scope
                  value: health
            - uuid: afc084187e1140ad8154d213096f2db5
              expression: 'avg(/Template PureStorage FlashArray/purefa_array_space_utilization,15m) > 90'
              name: 'Array: Space Utilization > 90%'
              priority: HIGH
              tags:
                - tag: scope
                  value: health
        - uuid: 13fea51102b94005831654f7d3ee51b3
          name: 'Get all metrics from FlashArray via OM Exporter'
          type: HTTP_AGENT
          key: purefa_raw_metrics
          history: '0'
          trends: '0'
          value_type: TEXT
          timeout: 60s
          url: 'https://{$EXPORTER}/metrics'
          query_fields:
            - name: endpoint
              value: '{HOST.HOST}'
          follow_redirects: 'NO'
          headers:
            - name: Authorization
              value: 'Bearer {$API_TOKEN}'
      discovery_rules:
        - uuid: a7e451b772ca4eefb5172c472015d668
          name: 'Discovering Drives'
          type: DEPENDENT
          key: purefa_drive_capacity_bytes_discovery
          delay: '0'
          filter:
            conditions:
              - macro: '{#COMPONENT_STATUS}'
                value: ^unused$
                operator: NOT_MATCHES_REGEX
                formulaid: A
          lifetime: '0'
          item_prototypes:
            - uuid: a01eb225481142e89e24f98d696cf4cc
              name: 'Status of {#COMPONENT_TYPE}({#COMPONENT_PROTOCOL}) drive in {#COMPONENT_NAME}'
              type: DEPENDENT
              key: 'purefa_drive_capacity_bytes[{#COMPONENT_NAME}]'
              delay: '0'
              trends: '0'
              value_type: TEXT
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - '{#METRIC}{component_name="{#COMPONENT_NAME}",component_type="{#COMPONENT_TYPE}"}'
                    - label
                    - component_status
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: component_name
                  value: '{#COMPONENT_NAME}'
                - tag: component_protocol
                  value: '{#COMPONENT_PROTOCOL}'
                - tag: component_type
                  value: '{#COMPONENT_TYPE}'
                - tag: entity
                  value: drive
                - tag: scope
                  value: health
              trigger_prototypes:
                - uuid: 74a93311e0a941e48c9f2e84a99cef69
                  expression: 'change(/Template PureStorage FlashArray/purefa_drive_capacity_bytes[{#COMPONENT_NAME}])=1'
                  name: 'Status of {#COMPONENT_TYPE}({#COMPONENT_PROTOCOL}) drive in {#COMPONENT_NAME} has been changed'
                  opdata: 'Status: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  dependencies:
                    - name: 'Status of {#COMPONENT_TYPE}({#COMPONENT_PROTOCOL}) drive in {#COMPONENT_NAME} is not Healthy'
                      expression: 'last(/Template PureStorage FlashArray/purefa_drive_capacity_bytes[{#COMPONENT_NAME}]) <> "healthy"'
                  tags:
                    - tag: component_name
                      value: '{#COMPONENT_NAME}'
                    - tag: component_protocol
                      value: '{#COMPONENT_PROTOCOL}'
                    - tag: component_type
                      value: '{#COMPONENT_TYPE}'
                    - tag: scope
                      value: health
                - uuid: 0c0b322232094ddcbb734683e77f7711
                  expression: 'last(/Template PureStorage FlashArray/purefa_drive_capacity_bytes[{#COMPONENT_NAME}]) <> "healthy"'
                  name: 'Status of {#COMPONENT_TYPE}({#COMPONENT_PROTOCOL}) drive in {#COMPONENT_NAME} is not Healthy'
                  opdata: 'Status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: component_name
                      value: '{#COMPONENT_NAME}'
                    - tag: component_protocol
                      value: '{#COMPONENT_PROTOCOL}'
                    - tag: component_type
                      value: '{#COMPONENT_TYPE}'
                    - tag: scope
                      value: health
          master_item:
            key: purefa_raw_metrics
          lld_macro_paths:
            - lld_macro: '{#COMPONENT_NAME}'
              path: '$.labels[''component_name'']'
            - lld_macro: '{#COMPONENT_PROTOCOL}'
              path: '$.labels[''component_protocol'']'
            - lld_macro: '{#COMPONENT_STATUS}'
              path: '$.labels[''component_status'']'
            - lld_macro: '{#COMPONENT_TYPE}'
              path: '$.labels[''component_type'']'
            - lld_macro: '{#HELP}'
              path: '$[''help'']'
            - lld_macro: '{#METRIC}'
              path: '$[''name'']'
          preprocessing:
            - type: PROMETHEUS_TO_JSON
              parameters:
                - 'purefa_drive_capacity_bytes{component_name=~".*"}'
        - uuid: 4e5e15daf43540f686b32cbe9a9b262d
          name: 'Discovering Hosts'
          type: DEPENDENT
          key: purefa_host_connectivity_info_discovery
          delay: '0'
          filter:
            conditions:
              - macro: '{#HOST}'
                value: '^.*\:.*$'
                operator: NOT_MATCHES_REGEX
                formulaid: A
          lifetime: '0'
          item_prototypes:
            - uuid: 0e2ad83e60f94fb698a2d1457ccea9a8
              name: 'Connectivity status for {#HOST}'
              type: DEPENDENT
              key: 'purefa_host_connectivity_info[{#HOST}]'
              delay: '0'
              trends: '0'
              value_type: TEXT
              description: '{#DETAILS}'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - '{#METRIC}{host="{#HOST}"}'
                    - label
                    - status
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: scope
                  value: health
              trigger_prototypes:
                - uuid: 942052bf050e4b19bfcfc00fbc659ab3
                  expression: 'change(/Template PureStorage FlashArray/purefa_host_connectivity_info[{#HOST}])=1'
                  name: 'Connectivity status for {#HOST} has been changed'
                  opdata: 'Status: {ITEM.LASTVALUE}, Details: {#DETAILS}'
                  priority: WARNING
                  description: '{#DETAILS}'
                  dependencies:
                    - name: 'Connectivity status for {#HOST} is not Healthy'
                      expression: 'last(/Template PureStorage FlashArray/purefa_host_connectivity_info[{#HOST}])<>"healthy"'
                  tags:
                    - tag: host
                      value: '{#HOST}'
                    - tag: scope
                      value: health
                - uuid: 790e2b2b6ce84a4b8c1b5aa346080d6b
                  expression: 'last(/Template PureStorage FlashArray/purefa_host_connectivity_info[{#HOST}])<>"healthy"'
                  name: 'Connectivity status for {#HOST} is not Healthy'
                  opdata: 'Status: {ITEM.LASTVALUE}, Details: {#DETAILS}'
                  priority: AVERAGE
                  description: '{#DETAILS}'
                  tags:
                    - tag: host
                      value: '{#HOST}'
                    - tag: scope
                      value: health
            - uuid: 9d1fb6f425ea485dbb8cd1ff0299222f
              name: '{#HOST}: Average IO size (mirrored_write)'
              type: DEPENDENT
              key: 'purefa_host_performance_average_bytes[{#HOST},"mirrored_write"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: mirrored_write
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_average_bytes{host="{#HOST}",dimension="bytes_per_mirrored_write"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_mirrored_write
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: 'io size'
                - tag: scope
                  value: performance
            - uuid: aca12da08f784c2fa0d6aa6a0a52fed1
              name: '{#HOST}: Average IO size'
              type: DEPENDENT
              key: 'purefa_host_performance_average_bytes[{#HOST},"op"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_average_bytes{host="{#HOST}",dimension="bytes_per_op"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: 'io size'
                - tag: scope
                  value: performance
            - uuid: 6ff89dd4b7ce46b6b068909ad0389d4d
              name: '{#HOST}: Average IO size (read)'
              type: DEPENDENT
              key: 'purefa_host_performance_average_bytes[{#HOST},"read"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: read
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_average_bytes{host="{#HOST}",dimension="bytes_per_read"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_read
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: 'io size'
                - tag: scope
                  value: performance
            - uuid: 1171dc6fed7b496d83dfb7870fa54369
              name: '{#HOST}: Average IO size (write)'
              type: DEPENDENT
              key: 'purefa_host_performance_average_bytes[{#HOST},"write"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: write
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_average_bytes{host="{#HOST}",dimension="bytes_per_write"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_write
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: 'io size'
                - tag: scope
                  value: performance
            - uuid: c947572e49894bf2af47628c6f6e0ea6
              name: '{#HOST}: Bandwidth (Mirrored write bytes per second)'
              type: DEPENDENT
              key: 'purefa_host_performance_bandwidth_bytes[{#HOST},"mirrored_write_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Host bandwidth in bytes (bytes/second)
                
                Dimension: mirrored_write_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_bandwidth_bytes{host="{#HOST}",dimension="mirrored_write_bytes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: mirrored_write_bytes_per_sec
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: bandwidth
                - tag: scope
                  value: performance
            - uuid: 183289f9ca074f26833422e9ae293798
              name: '{#HOST}: Bandwidth (Read bytes per second)'
              type: DEPENDENT
              key: 'purefa_host_performance_bandwidth_bytes[{#HOST},"read_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Host bandwidth in bytes (bytes/second)
                
                Dimension: read_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_bandwidth_bytes{host="{#HOST}",dimension="read_bytes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: read_bytes_per_sec
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: bandwidth
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 7b971157e7624a5cbc58211e818f82bf
                  expression: 'avg(/Template PureStorage FlashArray/purefa_host_performance_bandwidth_bytes[{#HOST},"read_bytes_per_sec"],15m)>2G'
                  name: 'Avg Read Bandwidth > 2GB/s for 15m (host: {#HOST})'
                  priority: WARNING
                  tags:
                    - tag: host
                      value: '{#HOST}'
                    - tag: scope
                      value: performance
            - uuid: 3d1b784da9f54e149439e136e3f27e0c
              name: '{#HOST}: Bandwidth (Write bytes per second)'
              type: DEPENDENT
              key: 'purefa_host_performance_bandwidth_bytes[{#HOST},"write_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Host bandwidth in bytes (bytes/second)
                
                Dimension: write_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_bandwidth_bytes{host="{#HOST}",dimension="write_bytes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: write_bytes_per_sec
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: bandwidth
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 7feaee120dbe44e3b5f886c1b4178372
                  expression: 'avg(/Template PureStorage FlashArray/purefa_host_performance_bandwidth_bytes[{#HOST},"write_bytes_per_sec"],15m)>2G'
                  name: 'Avg Write Bandwidth > 2GB/s for 15m (host: {#HOST})'
                  priority: WARNING
                  tags:
                    - tag: host
                      value: '{#HOST}'
                    - tag: scope
                      value: performance
            - uuid: cb402fc3ee7a4a6aa1fffb991f3a6e01
              name: '{#HOST}: Latency (Queue/Mirrored_write_op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_mirrored_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: queue_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="queue_usec_per_mirrored_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: queue_usec_per_mirrored_write_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: ee6d48cab3d44cc5bf068cd4a0cd9c0d
              name: '{#HOST}: Latency (Queue/Read op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_read_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: queue_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="queue_usec_per_read_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: queue_usec_per_read_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: 507cbaa7ed3846dfa69fd3744e8c723e
              name: '{#HOST}: Latency (Queue/Write op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: queue_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="queue_usec_per_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: queue_usec_per_write_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: d428e5b0cbd1485b8d39917bf10db1c0
              name: '{#HOST}: Latency (SAN/Mirrored write op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_mirrored_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: san_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="san_usec_per_mirrored_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: san_usec_per_mirrored_write_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: d51508c0a9384cacb9226c115b3ce6af
              name: '{#HOST}: Latency (SAN/Read op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_read_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: san_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="san_usec_per_read_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: san_usec_per_read_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: f1855aa4bd99480395f588fa9f06ea38
              name: '{#HOST}: Latency (SAN/Write op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: san_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="san_usec_per_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: san_usec_per_write_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: adf8d90dbfa34401b5407c5d0b32ba73
              name: '{#HOST}: Latency (Service/Mirrored write op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_mirrored_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: service_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="service_usec_per_mirrored_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: service_usec_per_mirrored_write_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: 313e26cfe2e84796a6b5bbb47d9f9c4f
              name: '{#HOST}: Latency (Service/Read op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_read_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: service_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="service_usec_per_read_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: service_usec_per_read_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: b95efbca04274a169a1ebaa6fc50d8f4
              name: '{#HOST}: Latency (Service/Read operation cache reduction)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_read_op_cache_reduction"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: service_usec_per_read_op_cache_reduction
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="service_usec_per_read_op_cache_reduction"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: service_usec_per_read_op_cache_reduction
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: 6c35076605de417eb2fb5406b2664f7d
              name: '{#HOST}: Latency (Service/Write op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: service_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="service_usec_per_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: service_usec_per_write_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: 3fe95f0feb7f4e2aaff16b1413926b76
              name: '{#HOST}: Latency (Mirrored write op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_mirrored_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="usec_per_mirrored_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: usec_per_mirrored_write_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
            - uuid: d30d2d6c691248ee968f08ca2d59d572
              name: '{#HOST}: Latency (Read op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_read_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="usec_per_read_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: usec_per_read_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 6934edab8431410980d8aa04e0dfaf3d
                  expression: 'avg(/Template PureStorage FlashArray/purefa_host_performance_latency_usec[{#HOST},"usec_per_read_op"],15m)>5'
                  name: 'Avg Read Latency > 5ms for 15m (host: {#HOST})'
                  priority: WARNING
                  tags:
                    - tag: host
                      value: '{#HOST}'
                    - tag: scope
                      value: performance
            - uuid: 8610e9a07a9b432080ea0be1bf29fe51
              name: '{#HOST}: Latency (Write op)'
              type: DEPENDENT
              key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Host latency (microsecond)
                
                Dimension: usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_latency_usec{host="{#HOST}",dimension="usec_per_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: usec_per_write_op
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: latency
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 96b07e782e6a4133afb7eb0320f64a21
                  expression: 'avg(/Template PureStorage FlashArray/purefa_host_performance_latency_usec[{#HOST},"usec_per_write_op"],15m)>5'
                  name: 'Avg Write Latency > 5ms for 15m (host: {#HOST})'
                  priority: WARNING
                  tags:
                    - tag: host
                      value: '{#HOST}'
                    - tag: scope
                      value: performance
            - uuid: bf57972a81774f7b8884ff11af16f972
              name: '{#HOST}: Throughput OPS (Mirrored write)'
              type: DEPENDENT
              key: 'purefa_host_performance_throughput_iops[{#HOST},"mirrored_write_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                Host throughput in operations per second (operations/second)
                
                Dimension: mirrored_writes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_throughput_iops{host="{#HOST}",dimension="mirrored_writes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: mirrored_writes_per_sec
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: throughput
                - tag: scope
                  value: performance
            - uuid: 845ed78a21f14eaabbc8d50a29daadd5
              name: '{#HOST}: Throughput OPS (Read)'
              type: DEPENDENT
              key: 'purefa_host_performance_throughput_iops[{#HOST},"reads_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                Host throughput in operations per second (operations/second)
                
                Dimension: reads_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_throughput_iops{host="{#HOST}",dimension="reads_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: reads_per_sec
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: throughput
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: ab24d4be239d4cb8a64568d294c4a89a
                  expression: 'avg(/Template PureStorage FlashArray/purefa_host_performance_throughput_iops[{#HOST},"reads_per_sec"],15m)> 50000'
                  name: 'Avg Read IOPS > 50K for 15m (host: {#HOST})'
                  priority: WARNING
                  tags:
                    - tag: host
                      value: '{#HOST}'
                    - tag: scope
                      value: performance
            - uuid: 4a61241672164733bac6f5817d033021
              name: '{#HOST}: Throughput OPS (Write)'
              type: DEPENDENT
              key: 'purefa_host_performance_throughput_iops[{#HOST},"writes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                Host throughput in operations per second (operations/second)
                
                Dimension: writes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_host_performance_throughput_iops{host="{#HOST}",dimension="writes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: writes_per_sec
                - tag: entity
                  value: host
                - tag: host
                  value: '{#HOST}'
                - tag: kind
                  value: throughput
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: bd6e3e45afc84552b1c96a3c4df76a1d
                  expression: 'avg(/Template PureStorage FlashArray/purefa_host_performance_throughput_iops[{#HOST},"writes_per_sec"],15m)> 50000'
                  name: 'Avg Write IOPS > 50K for 15m (host: {#HOST})'
                  priority: WARNING
                  tags:
                    - tag: host
                      value: '{#HOST}'
                    - tag: scope
                      value: performance
          graph_prototypes:
            - uuid: 6eabfdcbf6ae45e687fcf9e5ef338608
              name: '{#HOST} Bandwidth'
              width: '1000'
              height: '400'
              graph_items:
                - color: 1A7C11
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_bandwidth_bytes[{#HOST},"mirrored_write_bytes_per_sec"]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_bandwidth_bytes[{#HOST},"read_bytes_per_sec"]'
                - sortorder: '2'
                  color: F63100
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_bandwidth_bytes[{#HOST},"write_bytes_per_sec"]'
            - uuid: be02ddc7f82f458bb1c776999bc3a565
              name: '{#HOST} IOPS'
              width: '1000'
              height: '400'
              graph_items:
                - color: 1A7C11
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_throughput_iops[{#HOST},"mirrored_write_bytes_per_sec"]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_throughput_iops[{#HOST},"reads_per_sec"]'
                - sortorder: '2'
                  color: F63100
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_throughput_iops[{#HOST},"writes_per_sec"]'
            - uuid: 1c1f719939294f988f7f7a223c5a8cd4
              name: '{#HOST} IO Size'
              width: '1000'
              height: '400'
              graph_items:
                - color: 1A7C11
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_average_bytes[{#HOST},"op"]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_average_bytes[{#HOST},"mirrored_write"]'
                - sortorder: '2'
                  color: F63100
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_average_bytes[{#HOST},"read"]'
                - sortorder: '3'
                  color: 2774A4
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_average_bytes[{#HOST},"write"]'
            - uuid: 87fd00e06ea24592829aa5f64ede4ce9
              name: '{#HOST} Latency (All)'
              width: '1000'
              height: '400'
              type: STACKED
              graph_items:
                - color: 1A7C11
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_mirrored_write_op"]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_mirrored_write_op"]'
                - sortorder: '2'
                  color: F63100
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_read_op"]'
                - sortorder: '3'
                  color: 2774A4
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_write_op"]'
                - sortorder: '4'
                  color: A54F10
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_read_op"]'
                - sortorder: '5'
                  color: FC6EA3
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_mirrored_write_op"]'
                - sortorder: '6'
                  color: 6C59DC
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_read_op"]'
                - sortorder: '7'
                  color: AC8C14
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_write_op"]'
                - sortorder: '8'
                  color: 611F27
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_mirrored_write_op"]'
                - sortorder: '9'
                  color: F230E0
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_read_op"]'
                - sortorder: '10'
                  color: 5CCD18
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_read_op_cache_reduction"]'
                - sortorder: '11'
                  color: BB2A02
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_write_op"]'
                - sortorder: '12'
                  color: 5A2B57
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_write_op"]'
            - uuid: 3d4cba6902654d0eb9557493d8c0a7e4
              name: '{#HOST} Latency (Mirror write)'
              width: '1000'
              height: '400'
              type: STACKED
              graph_items:
                - color: 1A7C11
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_mirrored_write_op"]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_mirrored_write_op"]'
                - sortorder: '2'
                  color: FC6EA3
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_mirrored_write_op"]'
                - sortorder: '3'
                  color: 611F27
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_mirrored_write_op"]'
            - uuid: 6c13e393d3ad4a70b93652d80382021e
              name: '{#HOST} Latency (Read)'
              width: '1000'
              height: '400'
              type: STACKED
              graph_items:
                - color: F63100
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_read_op"]'
                - sortorder: '1'
                  color: A54F10
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_read_op"]'
                - sortorder: '2'
                  color: 6C59DC
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_read_op"]'
                - sortorder: '3'
                  color: F230E0
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_read_op"]'
                - sortorder: '4'
                  color: 5CCD18
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_read_op_cache_reduction"]'
            - uuid: 32ebf1c6568e41e5948c13e1d4fd6e49
              name: '{#HOST} Latency (Simple)'
              width: '1000'
              height: '400'
              type: STACKED
              graph_items:
                - color: A54F10
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_read_op"]'
                - sortorder: '1'
                  color: 5A2B57
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_write_op"]'
            - uuid: 57a25a29857349218862eb5afecd6db0
              name: '{#HOST} Latency (Write)'
              width: '1000'
              height: '400'
              type: STACKED
              graph_items:
                - color: 2774A4
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"queue_usec_per_write_op"]'
                - sortorder: '1'
                  color: AC8C14
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"san_usec_per_write_op"]'
                - sortorder: '2'
                  color: BB2A02
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"service_usec_per_write_op"]'
                - sortorder: '3'
                  color: 5A2B57
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_host_performance_latency_usec[{#HOST},"usec_per_write_op"]'
          master_item:
            key: purefa_raw_metrics
          lld_macro_paths:
            - lld_macro: '{#DETAILS}'
              path: '$.labels[''details'']'
            - lld_macro: '{#HELP}'
              path: '$[''help'']'
            - lld_macro: '{#HOST}'
              path: '$.labels[''host'']'
            - lld_macro: '{#METRIC}'
              path: '$[''name'']'
            - lld_macro: '{#STATUS}'
              path: '$.labels[''status'']'
          preprocessing:
            - type: PROMETHEUS_TO_JSON
              parameters:
                - 'purefa_host_connectivity_info{host =~".*"}'
        - uuid: 7776b0fdab6347b498cbf4779ebb5c7e
          name: 'Discovering HW components'
          type: DEPENDENT
          key: purefa_hw_component_status_discovery
          delay: '0'
          filter:
            conditions:
              - macro: '{#COMPONENT_STATUS}'
                value: ^not_installed$
                operator: NOT_MATCHES_REGEX
                formulaid: A
          lifetime: '0'
          item_prototypes:
            - uuid: 34aff90fa5244a32abbae29067c746c2
              name: 'Hardware component "{#COMPONENT_NAME}" ({#COMPONENT_TYPE}) status'
              type: DEPENDENT
              key: 'purefa_hw_component_status[{#COMPONENT_NAME},{#COMPONENT_TYPE}]'
              delay: '0'
              trends: '0'
              value_type: TEXT
              description: '{#HELP}'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - '{#METRIC}{component_name="{#COMPONENT_NAME}",component_type="{#COMPONENT_TYPE}"}'
                    - label
                    - component_status
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: component_name
                  value: '{#COMPONENT_NAME}'
                - tag: component_type
                  value: '{#COMPONENT_TYPE}'
                - tag: scope
                  value: health
              trigger_prototypes:
                - uuid: 3b45e1d1fb8940308b21d2e320647981
                  expression: 'last(/Template PureStorage FlashArray/purefa_hw_component_status[{#COMPONENT_NAME},{#COMPONENT_TYPE}]) <> "ok"'
                  name: 'Component "{#COMPONENT_NAME}" ({#COMPONENT_TYPE}) is not OK'
                  opdata: 'Status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: component_name
                      value: '{#COMPONENT_NAME}'
                    - tag: component_type
                      value: '{#COMPONENT_TYPE}'
                    - tag: metric
                      value: '{#METRIC}'
                    - tag: scope
                      value: health
                - uuid: e26022a4bf7c42aaa3c8cd74eba27747
                  expression: 'change(/Template PureStorage FlashArray/purefa_hw_component_status[{#COMPONENT_NAME},{#COMPONENT_TYPE}])=1'
                  name: 'Status for "{#COMPONENT_NAME}" ({#COMPONENT_TYPE}) has been changed'
                  opdata: 'Status: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  dependencies:
                    - name: 'Component "{#COMPONENT_NAME}" ({#COMPONENT_TYPE}) is not OK'
                      expression: 'last(/Template PureStorage FlashArray/purefa_hw_component_status[{#COMPONENT_NAME},{#COMPONENT_TYPE}]) <> "ok"'
                  tags:
                    - tag: component_name
                      value: '{#COMPONENT_NAME}'
                    - tag: component_type
                      value: '{#COMPONENT_type}'
                    - tag: metric
                      value: '{#METRIC}'
                    - tag: scope
                      value: health
          master_item:
            key: purefa_raw_metrics
          lld_macro_paths:
            - lld_macro: '{#COMPONENT_NAME}'
              path: '$.labels[''component_name'']'
            - lld_macro: '{#COMPONENT_STATUS}'
              path: '$.labels[''component_status'']'
            - lld_macro: '{#COMPONENT_TYPE}'
              path: '$.labels[''component_type'']'
            - lld_macro: '{#HELP}'
              path: '$[''help'']'
            - lld_macro: '{#METRIC}'
              path: '$[''name'']'
          preprocessing:
            - type: PROMETHEUS_TO_JSON
              parameters:
                - 'purefa_hw_component_status{component_name=~".*"}'
        - uuid: 6c6166590d3b481d89cd2d3251d6ab48
          name: 'Discovering Interfaces'
          type: DEPENDENT
          key: purefa_network_discovery
          delay: '0'
          filter:
            evaltype: AND
            conditions:
              - macro: '{#ENABLED}'
                value: ^false$
                operator: NOT_MATCHES_REGEX
                formulaid: A
              - macro: '{#ETHSUBTYPE}'
                value: ^vif$
                operator: NOT_MATCHES_REGEX
                formulaid: B
          lifetime: '0'
          item_prototypes:
            - uuid: b020b25ffcc743d49c50de239c49cdca
              name: 'Interface "{#INTERFACE}"({#TYPE}) enabled'
              type: DEPENDENT
              key: 'purefa_network_interface_link_enabled["{#INTERFACE}"]'
              delay: '0'
              trends: '0'
              value_type: TEXT
              description: |
                Type: {#TYPE}
                Services: {#SERVICES}
                EthSubType: {#ETHSUBTYPE}
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_network_interface_speed_bandwidth_bytes{name="{#INTERFACE}"}'
                    - label
                    - enabled
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: interface
                - tag: interface
                  value: '{#INTERFACE}'
                - tag: scope
                  value: health
                - tag: services
                  value: '{#SERVICES}'
                - tag: subtype
                  value: '{#ETHSUBTYPE}'
                - tag: type
                  value: '{#TYPE}'
              trigger_prototypes:
                - uuid: e5396755afba4d0e8003413ec75ecde4
                  expression: 'last(/Template PureStorage FlashArray/purefa_network_interface_link_enabled["{#INTERFACE}"])<>"true"'
                  name: 'Interface "{#INTERFACE}"({#TYPE}) is not enabled'
                  opdata: 'Enabled: {ITEM.LASTVALUE}, Type: {#TYPE}'
                  priority: AVERAGE
                  description: |
                    SubType: {#ETHSUBTYPE}
                    Services affected: {#SERVICES}
                  tags:
                    - tag: interface
                      value: '{#INTERFACE}'
                    - tag: scope
                      value: health
                    - tag: type
                      value: '{#TYPE}'
            - uuid: 3d7c57b9ad1a4ba686f83aab1334f723
              name: 'Interface "{#INTERFACE}"({#TYPE}) speed'
              type: DEPENDENT
              key: 'purefa_network_interface_link_speed["{#INTERFACE}"]'
              delay: '0'
              value_type: FLOAT
              units: bit
              description: |
                Type: {#TYPE}
                Services: {#SERVICES}
                EthSubType: {#ETHSUBTYPE}
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_network_interface_speed_bandwidth_bytes{name="{#INTERFACE}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: interface
                - tag: interface
                  value: '{#INTERFACE}'
                - tag: scope
                  value: performance
                - tag: services
                  value: '{#SERVICES}'
                - tag: subtype
                  value: '{#ETHSUBTYPE}'
                - tag: type
                  value: '{#TYPE}'
              trigger_prototypes:
                - uuid: 283ea41bce0a4ce3ae5cbdb7910794ef
                  expression: 'change(/Template PureStorage FlashArray/purefa_network_interface_link_speed["{#INTERFACE}"])>0'
                  name: 'Interface "{#INTERFACE}"({#TYPE}) speed has been changed'
                  opdata: 'Speed: {ITEM.LASTVALUE}, Type: {#TYPE}'
                  priority: AVERAGE
                  tags:
                    - tag: interface
                      value: '{#INTERFACE}'
                    - tag: scope
                      value: performance
                    - tag: type
                      value: '{#TYPE}'
            - uuid: 95a23d74a6d4491c89a927935c923a47
              name: 'Interface "{#INTERFACE}"({#TYPE}) RX'
              type: DEPENDENT
              key: 'purefa_network_interface_performance_bandwidth_bytes["{#INTERFACE}","received_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: Bps
              description: |
                Type: {#TYPE}
                Services: {#SERVICES}
                EthSubType: {#ETHSUBTYPE}
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_network_interface_performance_bandwidth_bytes{name="{#INTERFACE}",dimension="received_bytes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: interface
                - tag: interface
                  value: '{#INTERFACE}'
                - tag: scope
                  value: performance
                - tag: services
                  value: '{#SERVICES}'
                - tag: subtype
                  value: '{#ETHSUBTYPE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 9c34f492b2514bf694d0cf3d413b9185
              name: 'Interface "{#INTERFACE}"({#TYPE}) TX'
              type: DEPENDENT
              key: 'purefa_network_interface_performance_bandwidth_bytes["{#INTERFACE}","transmitted_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: Bps
              description: |
                Type: {#TYPE}
                Services: {#SERVICES}
                EthSubType: {#ETHSUBTYPE}
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_network_interface_performance_bandwidth_bytes{name="{#INTERFACE}",dimension="transmitted_bytes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: interface
                - tag: interface
                  value: '{#INTERFACE}'
                - tag: scope
                  value: performance
                - tag: services
                  value: '{#SERVICES}'
                - tag: subtype
                  value: '{#ETHSUBTYPE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: d4d731e2d06c43479c15880ff9fa41cf
              name: 'Interface "{#INTERFACE}"({#TYPE}) errors'
              type: DEPENDENT
              key: 'purefa_network_interface_performance_errors["{#INTERFACE}","total_errors_per_sec"]'
              delay: '0'
              value_type: FLOAT
              description: |
                Type: {#TYPE}
                Services: {#SERVICES}
                EthSubType: {#ETHSUBTYPE}
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_network_interface_performance_errors{name="{#INTERFACE}",dimension="total_errors_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: interface
                - tag: interface
                  value: '{#INTERFACE}'
                - tag: scope
                  value: health
                - tag: services
                  value: '{#SERVICES}'
                - tag: subtype
                  value: '{#ETHSUBTYPE}'
                - tag: type
                  value: '{#TYPE}'
              trigger_prototypes:
                - uuid: 853881908aa048a396f65e7e3bf47b24
                  expression: 'max(/Template PureStorage FlashArray/purefa_network_interface_performance_errors["{#INTERFACE}","total_errors_per_sec"],15m)>0'
                  name: 'Interface "{#INTERFACE}"({#TYPE}) has errors for last 15m'
                  opdata: '{ITEM.LASTVALUE}'
                  priority: AVERAGE
                  tags:
                    - tag: interface
                      value: '{#INTERFACE}'
                    - tag: scope
                      value: health
                    - tag: scope
                      value: performance
                    - tag: type
                      value: '{#TYPE}'
          trigger_prototypes:
            - uuid: cd8fc4e3f9a747acb22655c19bd56a8e
              expression: '(avg(/Template PureStorage FlashArray/purefa_network_interface_performance_bandwidth_bytes["{#INTERFACE}","transmitted_bytes_per_sec"],15m)+avg(/Template PureStorage FlashArray/purefa_network_interface_performance_bandwidth_bytes["{#INTERFACE}","received_bytes_per_sec"],15m)) >((  last(/Template PureStorage FlashArray/purefa_network_interface_link_speed["{#INTERFACE}"])/8)*0.8)'
              name: 'Interface "{#INTERFACE}"({#TYPE}) is more than 80% utilized'
              priority: AVERAGE
              tags:
                - tag: interface
                  value: '{#INTERFACE}'
                - tag: scope
                  value: performance
                - tag: type
                  value: '{#TYPE}'
          graph_prototypes:
            - uuid: bd2ddd03da1c4e32b181e09f6f1a8019
              name: 'Interface "{#INTERFACE}"({#TYPE}) Bandwidth'
              width: '1000'
              height: '400'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 1A7C11
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_network_interface_performance_bandwidth_bytes["{#INTERFACE}","received_bytes_per_sec"]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: '274482'
                  calc_fnc: MAX
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_network_interface_performance_bandwidth_bytes["{#INTERFACE}","transmitted_bytes_per_sec"]'
          master_item:
            key: purefa_raw_metrics
          lld_macro_paths:
            - lld_macro: '{#ENABLED}'
              path: '$.labels[''enabled'']'
            - lld_macro: '{#ETHSUBTYPE}'
              path: '$.labels[''ethsubtype'']'
            - lld_macro: '{#HELP}'
              path: '$[''help'']'
            - lld_macro: '{#INTERFACE}'
              path: '$.labels[''name'']'
            - lld_macro: '{#METRIC}'
              path: '$[''name'']'
            - lld_macro: '{#SERVICES}'
              path: '$.labels[''services'']'
            - lld_macro: '{#TYPE}'
              path: '$.labels[''type'']'
          preprocessing:
            - type: PROMETHEUS_TO_JSON
              parameters:
                - 'purefa_network_interface_speed_bandwidth_bytes{name =~".*"}'
        - uuid: 5b35deb726ca4e88acfe367629a44771
          name: 'Discovering PODs'
          type: DEPENDENT
          key: purefa_pod_discovery
          delay: '0'
          lifetime: '0'
          item_prototypes:
            - uuid: 4633d8d0f1364a939cf344e9cef6b486
              name: '{#POD}: Average IO Size (Mirrored write OPS)'
              type: DEPENDENT
              key: 'purefa_pod_performance_average_bytes[{#POD},"bytes_per_mirrored_write"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: bytes_per_mirrored_write
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_average_bytes{name="{#POD}",dimension="bytes_per_mirrored_write"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_mirrored_write
                - tag: entity
                  value: pod
                - tag: kind
                  value: 'io size'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 3d2264a89b084c3798b0946e1aebb0b0
              name: '{#POD}: Average IO Size'
              type: DEPENDENT
              key: 'purefa_pod_performance_average_bytes[{#POD},"bytes_per_op"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: bytes_per_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_average_bytes{name="{#POD}",dimension="bytes_per_op"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: 'io size'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 0d033de2b8e140fea56d7bbaafa58d45
              name: '{#POD}: Average IO Size (Read)'
              type: DEPENDENT
              key: 'purefa_pod_performance_average_bytes[{#POD},"bytes_per_read"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: bytes_per_read
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_average_bytes{name="{#POD}",dimension="bytes_per_read"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_read
                - tag: entity
                  value: pod
                - tag: kind
                  value: 'io size'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: cdff89115e264d6d9488fd1377bb86f0
              name: '{#POD}: Average IO Size (Write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_average_bytes[{#POD},"bytes_per_write"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: bytes_per_write
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_average_bytes{name="{#POD}",dimension="bytes_per_write"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_write
                - tag: entity
                  value: pod
                - tag: kind
                  value: 'io size'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 77113841e4d341b3b3acdf934b9bd877
              name: '{#POD}: Bandwidth (Mirrored Write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_bandwidth_bytes[{#POD},"mirrored_write_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                POD bandwidth in bytes (bytes/second)
                
                Dimension: mirrored_write_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_bandwidth_bytes{name="{#POD}",dimension="mirrored_write_bytes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: mirrored_write_bytes_per_sec
                - tag: entity
                  value: pod
                - tag: kind
                  value: bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: b87e5a883af842cfbcae5528a02eff11
              name: '{#POD}: Bandwidth (Read)'
              type: DEPENDENT
              key: 'purefa_pod_performance_bandwidth_bytes[{#POD},"read_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                POD bandwidth in bytes (bytes/second)
                
                Dimension: read_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_bandwidth_bytes{name="{#POD}",dimension="read_bytes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: read_bytes_per_sec
                - tag: entity
                  value: pod
                - tag: kind
                  value: bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 86aeaa5233d14931a792c79a6b986fea
                  expression: 'avg(/Template PureStorage FlashArray/purefa_pod_performance_bandwidth_bytes[{#POD},"read_bytes_per_sec"],15m) > 2G'
                  name: 'Avg Read Bandwidth > 2GB/s for 15m (pod: {#POD})'
                  priority: WARNING
                  tags:
                    - tag: pod
                      value: '{#POD}'
                    - tag: scope
                      value: performance
            - uuid: acdf58beaf094bcf869ecc26a7961716
              name: '{#POD}: Bandwidth (Write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_bandwidth_bytes[{#POD},"write_bytes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                POD bandwidth in bytes (bytes/second)
                
                Dimension: write_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_bandwidth_bytes{name="{#POD}",dimension="write_bytes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: write_bytes_per_sec
                - tag: entity
                  value: pod
                - tag: kind
                  value: bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 1e2ebaec867348d7bfb6583f22cf7b86
                  expression: 'avg(/Template PureStorage FlashArray/purefa_pod_performance_bandwidth_bytes[{#POD},"write_bytes_per_sec"],15m) > 2G'
                  name: 'Avg Write Bandwidth > 2GB/s for 15m (pod: {#POD})'
                  priority: WARNING
                  tags:
                    - tag: pod
                      value: '{#POD}'
                    - tag: scope
                      value: performance
            - uuid: 7b34b9bab6e8490f94640d5ded6c0b9c
              name: '{#POD}: Latency (Queue Mirrored write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"queue_usec_per_mirrored_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: queue_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="queue_usec_per_mirrored_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: queue_usec_per_mirrored_write_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 18d83e3c835f46069dd492577a863b3b
              name: '{#POD}: Latency (Queue Read)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"queue_usec_per_read_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: queue_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="queue_usec_per_read_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: queue_usec_per_read_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: cbb794a17e0348499e575819df7317f6
              name: '{#POD}: Latency (Queue Write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"queue_usec_per_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: queue_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="queue_usec_per_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: queue_usec_per_write_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 0b6bcd94eb0a4a9a9ea65d1ce542e7d7
              name: '{#POD}: Latency (SAN Mirrored write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"san_usec_per_mirrored_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: san_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="san_usec_per_mirrored_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: san_usec_per_mirrored_write_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 9c6144fd2914485bbf1a7d6f8f7f4c37
              name: '{#POD}: Latency (SAN Read)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"san_usec_per_read_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: san_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="san_usec_per_read_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: san_usec_per_read_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: d11eb067ee5546aabaa95d4bc68cfce0
              name: '{#POD}: Latency (SAN Write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"san_usec_per_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: san_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="san_usec_per_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: san_usec_per_write_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 89e2a96355634c94bd85ad22eb576657
              name: '{#POD}: Latency (Service Mirrored write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"service_usec_per_mirrored_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: service_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="service_usec_per_mirrored_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: service_usec_per_mirrored_write_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 102ca8cd4e674425b8db4e1a93b5a491
              name: '{#POD}: Latency (Service Read)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"service_usec_per_read_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: service_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="service_usec_per_read_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: service_usec_per_read_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 0ee0d6352c6148668b6f9b703680f97b
              name: '{#POD}: Latency (Service Read Cache Reduction)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"service_usec_per_read_op_cache_reduction"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: service_usec_per_read_op_cache_reduction
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="service_usec_per_read_op_cache_reduction"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: service_usec_per_read_op_cache_reduction
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: a19477d45f6642adb39f4758643c0c38
              name: '{#POD}: Latency (Service Write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"service_usec_per_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: service_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="service_usec_per_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: service_usec_per_write_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 204d11f085f1442cbafd511ae8fa0dfd
              name: '{#POD}: Latency (Mirrored write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"usec_per_mirrored_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="usec_per_mirrored_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: usec_per_mirrored_write_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 072035ac534f426194e1ec27731d98c8
              name: '{#POD}: Latency (Others)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"usec_per_other_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: usec_per_other_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="usec_per_other_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: usec_per_other_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 3069534f9dd7469295cbbe2d1fa63756
              name: '{#POD}: Latency (Read)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"usec_per_read_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="usec_per_read_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: usec_per_read_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: c4bad49281f74b0d8b1b10bc42b76438
                  expression: 'avg(/Template PureStorage FlashArray/purefa_pod_performance_latency_usec[{#POD},"usec_per_read_op"],15m)>10'
                  name: 'Avg Read Latency > 10ms for 15m (pod: {#POD})'
                  priority: WARNING
                  tags:
                    - tag: pod
                      value: '{#POD}'
                    - tag: scope
                      value: performance
            - uuid: 53746be6ce194be28a958fb76e3c0cbc
              name: '{#POD}: Latency (Write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_latency_usec[{#POD},"usec_per_write_op"]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                POD latency (microsecond)
                
                Dimension: usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_latency_usec{name="{#POD}",dimension="usec_per_write_op"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: usec_per_write_op
                - tag: entity
                  value: pod
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 1bca48fbeae449bdb70a958797569dcc
                  expression: 'avg(/Template PureStorage FlashArray/purefa_pod_performance_latency_usec[{#POD},"usec_per_write_op"],15m)>10'
                  name: 'Avg Write Latency > 10ms for 15m (pod: {#POD})'
                  priority: WARNING
                  tags:
                    - tag: pod
                      value: '{#POD}'
                    - tag: scope
                      value: performance
            - uuid: c268d9a4d7704b20a5ace328ddd7a837
              name: '{#POD}: Replication Bandwidth (continuous, from remote)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"continuous","from_remote"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: continuous
                Direction: from_remote
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="continuous",direction="from_remote"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: continuous
                - tag: direction
                  value: from_remote
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 50224953e24645e5b1159bc557a485da
              name: '{#POD}: Replication Bandwidth (continuous, total)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"continuous","total"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: continuous
                Direction: total
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="continuous",direction="total"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: continuous
                - tag: direction
                  value: total
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 0b7602e402e34238a553c7c663cece16
              name: '{#POD}: Replication Bandwidth (continuous, to remote)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"continuous","to_remote"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: continuous
                Direction: to_remote
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="continuous",direction="to_remote"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: continuous
                - tag: direction
                  value: to_remote
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: fb2b4eb84541418e9fe5232ac2149997
              name: '{#POD}: Replication Bandwidth (periodic, from remote)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"periodic","from_remote"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: periodic
                Direction: from_remote
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="periodic",direction="from_remote"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: periodic
                - tag: direction
                  value: from_remote
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 8e7f04704f214e6697aba5ccbc8090ca
              name: '{#POD}: Replication Bandwidth (periodic, total)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"periodic","total"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: periodic
                Direction: total
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="periodic",direction="total"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: periodic
                - tag: direction
                  value: total
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: d72fd242a30e49d5908ce5603a5e2010
              name: '{#POD}: Replication Bandwidth (periodic, to_remote)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"periodic","to_remote"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: periodic
                Direction: to_remote
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="periodic",direction="to_remote"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: periodic
                - tag: direction
                  value: to_remote
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 3c9fbbd28c184601a58ae1faef22ebac
              name: '{#POD}: Replication Bandwidth (resync, from remote)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"resync","from_remote"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: resync
                Direction: from_remote
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="resync",direction="from_remote"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: resync
                - tag: direction
                  value: from_remote
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 1b0d647ca0d34b009a01c4cf4435fe51
              name: '{#POD}: Replication Bandwidth (resync, total)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"resync","total"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: resync
                Direction: total
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="resync",direction="total"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: resync
                - tag: direction
                  value: total
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 2def0e511a2d45cbbc04d36982534539
              name: '{#POD}: Replication Bandwidth (resync, to remote)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"resync","to_remote"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: resync
                Direction: to_remote
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="resync",direction="to_remote"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: resync
                - tag: direction
                  value: to_remote
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 595aa8f98a8d4198b387502ae7714cf8
              name: '{#POD}: Replication Bandwidth (sync, from remote)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"sync","from_remote"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: sync
                Direction: from_remote
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="sync",direction="from_remote"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: sync
                - tag: direction
                  value: from_remote
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: d512071e87014847abcd7eecb86dd514
              name: '{#POD}: Replication Bandwidth (sync, total)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"sync","total"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: sync
                Direction: total
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="sync",direction="total"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: sync
                - tag: direction
                  value: total
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 5b5c2716fd364dfdb1aa24e9815eace3
              name: '{#POD}: Replication Bandwidth (sync, to remote)'
              type: DEPENDENT
              key: 'purefa_pod_performance_replication_bandwidth_bytes[{#POD},"sync","to_remote"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                PO replication bandwidth in bytes (bytes/second)
                
                Dimension: sync
                Direction: to_remote
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_replication_bandwidth_bytes{name="{#POD}",dimension="sync",direction="to_remote"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: sync
                - tag: direction
                  value: to_remote
                - tag: entity
                  value: pod
                - tag: kind
                  value: replication_bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 36c67022bf0b4efcb37f3270e5e0fc5c
              name: '{#POD}: Throughput OPS (Mirrored write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_throughput_iops[{#POD},"mirrored_writes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                POD throughput in operations per second (operations/second)
                
                Dimension: mirrored_writes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_throughput_iops{name="{#POD}",dimension="mirrored_writes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: mirrored_writes_per_sec
                - tag: entity
                  value: pod
                - tag: kind
                  value: throughput
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: b26938fed7b5443baef5d86231854627
              name: '{#POD}: Throughput OPS (Others)'
              type: DEPENDENT
              key: 'purefa_pod_performance_throughput_iops[{#POD},"others_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                POD throughput in operations per second (operations/second)
                
                Dimension: others_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_throughput_iops{name="{#POD}",dimension="others_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: others_per_sec
                - tag: entity
                  value: pod
                - tag: kind
                  value: throughput
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
            - uuid: 870871e29ab844eb95a5c5ded7144fb0
              name: '{#POD}: Throughput OPS (Read)'
              type: DEPENDENT
              key: 'purefa_pod_performance_throughput_iops[{#POD},"reads_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                POD throughput in operations per second (operations/second)
                
                Dimension: reads_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_throughput_iops{name="{#POD}",dimension="reads_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: reads_per_sec
                - tag: entity
                  value: pod
                - tag: kind
                  value: throughput
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 70f66ef6ed7c486f8ea1085ac4ab4f75
                  expression: 'avg(/Template PureStorage FlashArray/purefa_pod_performance_throughput_iops[{#POD},"reads_per_sec"],15m)>50000'
                  name: 'Avg Read IOPS > 50k for 15m (pod: {#POD})'
                  priority: WARNING
                  tags:
                    - tag: pod
                      value: '{#POD}'
                    - tag: scope
                      value: performance
            - uuid: 5ef724f79616419aac8c2a973a7f0cfa
              name: '{#POD}: Throughput OPS (Write)'
              type: DEPENDENT
              key: 'purefa_pod_performance_throughput_iops[{#POD},"writes_per_sec"]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                POD throughput in operations per second (operations/second)
                
                Dimension: writes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_performance_throughput_iops{name="{#POD}",dimension="writes_per_sec"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: writes_per_sec
                - tag: entity
                  value: pod
                - tag: kind
                  value: throughput
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
              trigger_prototypes:
                - uuid: 82e9914d96d94fa88143a506ef807f36
                  expression: 'avg(/Template PureStorage FlashArray/purefa_pod_performance_throughput_iops[{#POD},"writes_per_sec"],15m)>50000'
                  name: 'Avg Write IOPS > 50k for 15m (pod: {#POD})'
                  priority: WARNING
                  tags:
                    - tag: pod
                      value: '{#POD}'
                    - tag: scope
                      value: performance
            - uuid: 4b38b81395f94592b4834938fcbcaca8
              name: '{#POD}: Space (Replication)'
              type: DEPENDENT
              key: 'purefa_pod_space_bytes[{#POD},"replication"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: 'POD space in bytes'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_space_bytes{name="{#POD}",space="replication"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: pod
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: replication
            - uuid: cefa2f8cc76544918eee9ab5dc1eb742
              name: '{#POD}: Space (Shared)'
              type: DEPENDENT
              key: 'purefa_pod_space_bytes[{#POD},"shared"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: 'POD space in bytes'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_space_bytes{name="{#POD}",space="shared"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: pod
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: shared
            - uuid: a7ee328c8a89410c8f7a0b664961696e
              name: '{#POD}: Space (Thin Provisioning)'
              type: DEPENDENT
              key: 'purefa_pod_space_bytes[{#POD},"thin_provisioning"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: 'POD space in bytes'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_space_bytes{name="{#POD}",space="thin_provisioning"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: pod
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: thin_provisioning
            - uuid: 465e8e5757dd412d9b77a3d4e4c9d3fe
              name: '{#POD}: Space (Total Physical)'
              type: DEPENDENT
              key: 'purefa_pod_space_bytes[{#POD},"total_physical"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: 'POD space in bytes'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_space_bytes{name="{#POD}",space="total_physical"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: pod
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: total_physical
            - uuid: 2eb002c7046b46be8b1ec67e136ab31d
              name: '{#POD}: Space (Total Provisioned)'
              type: DEPENDENT
              key: 'purefa_pod_space_bytes[{#POD},"total_provisioned"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: 'POD space in bytes'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_space_bytes{name="{#POD}",space="total_provisioned"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: pod
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: total_provisioned
            - uuid: 66f91fc800b74f7b841e0e270a5e8519
              name: '{#POD}: Space (Total Reduction)'
              type: DEPENDENT
              key: 'purefa_pod_space_bytes[{#POD},"total_reduction"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: 'POD space in bytes'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_space_bytes{name="{#POD}",space="total_reduction"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: pod
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: total_reduction
            - uuid: 57ce684cdce94ab39155348b325d1316
              name: '{#POD}: Space (Unique)'
              type: DEPENDENT
              key: 'purefa_pod_space_bytes[{#POD},"unique"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: 'POD space in bytes'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_space_bytes{name="{#POD}",space="unique"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: pod
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: unique
            - uuid: 30f17fc0ca37487e8ba3595ecc197881
              name: '{#POD}: Space (Virtual)'
              type: DEPENDENT
              key: 'purefa_pod_space_bytes[{#POD},"virtual"]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: 'POD space in bytes'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_pod_space_bytes{name="{#POD}",space="virtual"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: pod
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: virtual
          master_item:
            key: purefa_raw_metrics
          lld_macro_paths:
            - lld_macro: '{#HELP}'
              path: '$[''help'']'
            - lld_macro: '{#METRIC}'
              path: '$[''name'']'
            - lld_macro: '{#POD}'
              path: '$.labels[''name'']'
            - lld_macro: '{#SPACE}'
              path: '$.labels[''space'']'
          preprocessing:
            - type: PROMETHEUS_TO_JSON
              parameters:
                - 'purefa_pod_space_bytes{name =~".*",space="total_provisioned"}'
        - uuid: 5d30d2a8f4f748cfae3cd8fb18f8a63b
          name: 'Discovering Mediators'
          type: DEPENDENT
          key: purefa_pod_mediator_status_discovery
          delay: '0'
          lifetime: '0'
          item_prototypes:
            - uuid: cfc9c8ac02ee4211beb7dd958a6b4405
              name: 'Status of mediator "{#MEDIATOR}" used by {#POD} on {#ARRAY}'
              type: DEPENDENT
              key: 'purefa_pod_mediator_status[{#ARRAY},{#POD},{#MEDIATOR}]'
              delay: '0'
              trends: '0'
              value_type: TEXT
              description: '{#HELP}'
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - '{#METRIC}{pod="{#POD}",array="{#ARRAY}",mediator="{#MEDIATOR}"}'
                    - label
                    - status
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: array
                  value: '{#ARRAY}'
                - tag: entity
                  value: mediator
                - tag: mediator
                  value: '{#MEDIATOR}'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: health
              trigger_prototypes:
                - uuid: e4185c8678b646b79ba1021982f897aa
                  expression: 'change(/Template PureStorage FlashArray/purefa_pod_mediator_status[{#ARRAY},{#POD},{#MEDIATOR}])=1'
                  name: 'Status of mediator "{#MEDIATOR}" used by {#POD} on {#ARRAY} has been changed'
                  opdata: 'Status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  dependencies:
                    - name: 'Status of mediator "{#MEDIATOR}" used by {#POD} on {#ARRAY} is not Online'
                      expression: 'last(/Template PureStorage FlashArray/purefa_pod_mediator_status[{#ARRAY},{#POD},{#MEDIATOR}])<>"online"'
                  tags:
                    - tag: array
                      value: '{#ARRAY}'
                    - tag: mediator
                      value: '{#MEDIATOR}'
                    - tag: pod
                      value: '{#POD}'
                    - tag: scope
                      value: health
                - uuid: 350828767e844293b108c5559295b695
                  expression: 'last(/Template PureStorage FlashArray/purefa_pod_mediator_status[{#ARRAY},{#POD},{#MEDIATOR}])<>"online"'
                  name: 'Status of mediator "{#MEDIATOR}" used by {#POD} on {#ARRAY} is not Online'
                  opdata: 'Status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: array
                      value: '{#ARRAY}'
                    - tag: mediator
                      value: '{#MEDIATOR}'
                    - tag: pod
                      value: '{#POD}'
                    - tag: scope
                      value: health
          master_item:
            key: purefa_raw_metrics
          lld_macro_paths:
            - lld_macro: '{#ARRAY}'
              path: '$.labels[''array'']'
            - lld_macro: '{#HELP}'
              path: '$[''help'']'
            - lld_macro: '{#MEDIATOR}'
              path: '$.labels[''mediator'']'
            - lld_macro: '{#METRIC}'
              path: '$[''name'']'
            - lld_macro: '{#POD}'
              path: '$.labels[''pod'']'
          preprocessing:
            - type: PROMETHEUS_TO_JSON
              parameters:
                - 'purefa_pod_mediator_status{pod=~".*"}'
        - uuid: c0704357488a481998a78f68f6010e76
          name: 'Discovering Volumes'
          type: DEPENDENT
          key: purefa_volume_discovery
          delay: '0'
          filter:
            conditions:
              - macro: '{#VOLUME}'
                value: ^pure-protocol-endpoint$
                operator: NOT_MATCHES_REGEX
                formulaid: A
          lifetime: '0'
          item_prototypes:
            - uuid: 4f1b61a1e87f44908d4379b0f860ca1c
              name: '{#VOLUME}: Average IO size (Mirrored write OPS)'
              type: DEPENDENT
              key: 'purefa_volume_performance_average_bytes["bytes_per_mirrored_write",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: bytes_per_mirrored_write
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_average_bytes{dimension="bytes_per_mirrored_write",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_mirrored_write
                - tag: entity
                  value: volume
                - tag: kind
                  value: 'io size'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 966e935805894619b0ca346f0c6843f7
              name: '{#VOLUME}: Average IO size'
              type: DEPENDENT
              key: 'purefa_volume_performance_average_bytes["bytes_per_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: bytes_per_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_average_bytes{dimension="bytes_per_op",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_op
                - tag: entity
                  value: volume
                - tag: kind
                  value: 'io size'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: c98d4406737142da9614336eb58ba820
              name: '{#VOLUME}: Average IO size (Read)'
              type: DEPENDENT
              key: 'purefa_volume_performance_average_bytes["bytes_per_read",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: bytes_per_read
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_average_bytes{dimension="bytes_per_read",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_read
                - tag: entity
                  value: volume
                - tag: kind
                  value: 'io size'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 2d462b77ad7a419994241922dda5a28e
              name: '{#VOLUME}: Average IO size (Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_average_bytes["bytes_per_write",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Average operations size in bytes (bytes/operation)
                
                Operation: bytes_per_write
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_average_bytes{dimension="bytes_per_write",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: bytes_per_write
                - tag: entity
                  value: volume
                - tag: kind
                  value: 'io size'
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 0031c8210ad54a58ad48c0c957e19492
              name: '{#VOLUME}: Bandwidth (Mirrored Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_bandwidth_bytes["mirrored_write_bytes_per_sec",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Volume bandwidth in bytes (bytes/second)
                
                Dimension: mirrored_write_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_bandwidth_bytes{dimension="mirrored_write_bytes_per_sec",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: mirrored_write_bytes_per_sec
                - tag: entity
                  value: volume
                - tag: kind
                  value: bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 3997a54058de443bb1a4a441aa372fe5
              name: '{#VOLUME}: Bandwidth (Read)'
              type: DEPENDENT
              key: 'purefa_volume_performance_bandwidth_bytes["read_bytes_per_sec",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Volume bandwidth in bytes (bytes/second)
                
                Dimension: read_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_bandwidth_bytes{dimension="read_bytes_per_sec",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: read_bytes_per_sec
                - tag: entity
                  value: volume
                - tag: kind
                  value: bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
              trigger_prototypes:
                - uuid: 770de4f593e34286a159f1b36327000b
                  expression: 'avg(/Template PureStorage FlashArray/purefa_volume_performance_bandwidth_bytes["read_bytes_per_sec",{#VOLUME},{#VOLUME_ID}],15m) > 2G'
                  name: 'Avg Read Bandwidth > 2GB/s for 15m (volume: {#VOLUME})'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: performance
                    - tag: volume
                      value: '{#VOLUME}'
            - uuid: 7745ba8a986040d089de92bccd7c0b5d
              name: '{#VOLUME}: Bandwidth (Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_bandwidth_bytes["write_bytes_per_sec",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B
              description: |
                Volume bandwidth in bytes (bytes/second)
                
                Dimension: write_bytes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_bandwidth_bytes{dimension="write_bytes_per_sec",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: write_bytes_per_sec
                - tag: entity
                  value: volume
                - tag: kind
                  value: bandwidth
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
              trigger_prototypes:
                - uuid: 948d14317608427c9bf6f336cfc7795c
                  expression: 'avg(/Template PureStorage FlashArray/purefa_volume_performance_bandwidth_bytes["write_bytes_per_sec",{#VOLUME},{#VOLUME_ID}],15m) > 2G'
                  name: 'Avg Write Bandwidth > 2GB/s for 15m (volume: {#VOLUME})'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: performance
                    - tag: volume
                      value: '{#VOLUME}'
            - uuid: fa8dc632372b41ff8619584ed99c4b67
              name: '{#VOLUME}: Latency (Queue Mirrored write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["queue_usec_per_mirrored_write_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: queue_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="queue_usec_per_mirrored_write_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 61d482a499404fadb3f9180bdaaffdab
              name: '{#VOLUME}: Latency (Queue Read)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["queue_usec_per_read_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: queue_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="queue_usec_per_read_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: b26d9dccd94d4b0292ce51a30272644b
              name: '{#VOLUME}: Latency (Queue Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["queue_usec_per_write_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: queue_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="queue_usec_per_write_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: da0ce0bfeec945c5942b3680b8c42656
              name: '{#VOLUME}: Latency (SAN Mirrored Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["san_usec_per_mirrored_write_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: san_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="san_usec_per_mirrored_write_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: ba6adc2452914407932e8c5cb63b434e
              name: '{#VOLUME}: Latency (SAN Read)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["san_usec_per_read_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: san_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="san_usec_per_read_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: c804c2df4108451487c288dcc267aa15
              name: '{#VOLUME}: Latency (SAN Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["san_usec_per_write_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: san_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="san_usec_per_write_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 4cdc9dc1486848a2bcda728f9a77901b
              name: '{#VOLUME}: Latency (Service Mirrored Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["service_usec_per_mirrored_write_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: service_usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="service_usec_per_mirrored_write_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: b49c9d2118b343698dc622624e597333
              name: '{#VOLUME}: Latency (Service Read)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["service_usec_per_read_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: service_usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="service_usec_per_read_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 8f583d69e73e42fca910abc574053cde
              name: '{#VOLUME}: Latency (Service Read Cache Reduction)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["service_usec_per_read_op_cache_reduction",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: service_usec_per_read_op_cache_reduction
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="service_usec_per_read_op_cache_reduction",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 1882e2a8cc3b4fecbeb0af28c3299427
              name: '{#VOLUME}: Latency (Service Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["service_usec_per_write_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: service_usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="service_usec_per_write_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 87fb5c3e59d34a1c9ccc7478d53b1c26
              name: '{#VOLUME}: Latency (Mirrored Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["usec_per_mirrored_write_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: usec_per_mirrored_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="usec_per_mirrored_write_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 78a2dccf0b5248eb8473f6868870fa32
              name: '{#VOLUME}: Latency (Read)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["usec_per_read_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: usec_per_read_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="usec_per_read_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
              trigger_prototypes:
                - uuid: 2da64a3a1cbc4ea49f75ff1712da3232
                  expression: 'avg(/Template PureStorage FlashArray/purefa_volume_performance_latency_usec["usec_per_read_op",{#VOLUME},{#VOLUME_ID}],15m)> 10'
                  name: 'Avg Read Latency > 10ms for 15m (volume: {#VOLUME})'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: performance
                    - tag: volume
                      value: '{#VOLUME}'
            - uuid: 3b1b0710bc0d4405897596e0e0946dfa
              name: '{#VOLUME}: Latency (Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_latency_usec["usec_per_write_op",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: ms
              description: |
                Volume latency (microsecond)
                
                Dimension: usec_per_write_op
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_latency_usec{dimension="usec_per_write_op",name="{#VOLUME}"}'
                    - value
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: kind
                  value: latency
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
              trigger_prototypes:
                - uuid: 0e52b17f2701444a84a44cba4ef378b9
                  expression: 'avg(/Template PureStorage FlashArray/purefa_volume_performance_latency_usec["usec_per_write_op",{#VOLUME},{#VOLUME_ID}],15m)> 10'
                  name: 'Avg Write Latency > 10ms for 15m (volume: {#VOLUME})'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: performance
                    - tag: volume
                      value: '{#VOLUME}'
            - uuid: e6ad3af3359349759b794b8ada965058
              name: '{#VOLUME}: Throughput OPS (Mirrored write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_throughput_iops["mirrored_writes_per_sec",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                Volume throughput in operations per second (operations/second)
                
                Dimension: mirrored_writes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_throughput_iops{dimension="mirrored_writes_per_sec",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: mirrored_writes_per_sec
                - tag: entity
                  value: volume
                - tag: kind
                  value: throughput
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: f50c0e38977e4f91b9225f1c0d023629
              name: '{#VOLUME}: Throughput OPS (Read)'
              type: DEPENDENT
              key: 'purefa_volume_performance_throughput_iops["reads_per_sec",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                Volume throughput in operations per second (operations/second)
                
                Dimension: reads_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_throughput_iops{dimension="reads_per_sec",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: reads_per_sec
                - tag: entity
                  value: volume
                - tag: kind
                  value: throughput
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
              trigger_prototypes:
                - uuid: 4887ebb0b3304c21a57b8f3e00d88e38
                  expression: 'avg(/Template PureStorage FlashArray/purefa_volume_performance_throughput_iops["reads_per_sec",{#VOLUME},{#VOLUME_ID}],15m)>50000'
                  name: 'Avg Read IOPS > 50k for 15m (volume: {#VOLUME})'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: performance
                    - tag: volume
                      value: '{#VOLUME}'
            - uuid: 87531e6a117e415b947f7f39e70d6147
              name: '{#VOLUME}: Throughput OPS (Write)'
              type: DEPENDENT
              key: 'purefa_volume_performance_throughput_iops["writes_per_sec",{#VOLUME},{#VOLUME_ID}]'
              delay: '0'
              value_type: FLOAT
              units: '!ops'
              description: |
                Volume throughput in operations per second (operations/second)
                
                Dimension: writes_per_sec
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_performance_throughput_iops{dimension="writes_per_sec",name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: dimension
                  value: writes_per_sec
                - tag: entity
                  value: volume
                - tag: kind
                  value: throughput
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: performance
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
              trigger_prototypes:
                - uuid: e0ef569174e845fb92222c4cd29fcf2b
                  expression: 'avg(/Template PureStorage FlashArray/purefa_volume_performance_throughput_iops["writes_per_sec",{#VOLUME},{#VOLUME_ID}],15m)>50000'
                  name: 'Avg Write IOPS > 50k for 15m (volume: {#VOLUME})'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: performance
                    - tag: volume
                      value: '{#VOLUME}'
            - uuid: 6d1a2c2e28d44b8fa0f69e480b43e08f
              name: '{#VOLUME}: Space (Snapshots)'
              type: DEPENDENT
              key: 'purefa_volume_space_bytes["snapshots","{#VOLUME}","{#VOLUME_ID}","{#VOLUME_GROUP}"]'
              delay: '0'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_space_bytes{name="{#VOLUME}",space="snapshots"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: snapshots
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 41d8d2506198415cbc94267592be436e
              name: '{#VOLUME}: Space (Thin provisioning)'
              type: DEPENDENT
              key: 'purefa_volume_space_bytes["thin_provisioning","{#VOLUME}","{#VOLUME_ID}","{#VOLUME_GROUP}"]'
              delay: '0'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_space_bytes{name="{#VOLUME}",space="thin_provisioning"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: thin_provisioning
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 4f4215443f2043a0937b2afb728bee9e
              name: '{#VOLUME}: Space (Total Physical)'
              type: DEPENDENT
              key: 'purefa_volume_space_bytes["total_physical","{#VOLUME}","{#VOLUME_ID}","{#VOLUME_GROUP}"]'
              delay: '0'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_space_bytes{name="{#VOLUME}",space="total_physical"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: total_physical
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 821af6ef4b6e4d60bdbc624ae863a8cd
              name: '{#VOLUME}: Space (Total Provisioned)'
              type: DEPENDENT
              key: 'purefa_volume_space_bytes["total_provisioned","{#VOLUME}","{#VOLUME_ID}","{#VOLUME_GROUP}"]'
              delay: '0'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_space_bytes{name="{#VOLUME}",space="total_provisioned"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: total_provisioned
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 2aca91a7365f4472a1bd27e7f339055a
              name: '{#VOLUME}: Space (Total Reduction)'
              type: DEPENDENT
              key: 'purefa_volume_space_bytes["total_reduction","{#VOLUME}","{#VOLUME_ID}","{#VOLUME_GROUP}"]'
              delay: '0'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_space_bytes{name="{#VOLUME}",space="total_reduction"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: total_reduction
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 061a52e25c6f4ed7b65fa872a10a8c8e
              name: '{#VOLUME}: Space (Unique)'
              type: DEPENDENT
              key: 'purefa_volume_space_bytes["unique","{#VOLUME}","{#VOLUME_ID}","{#VOLUME_GROUP}"]'
              delay: '0'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_space_bytes{name="{#VOLUME}",space="unique"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: unique
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 26060488d4f44ffe928a7781d19f0c19
              name: '{#VOLUME}: Space (Virtual)'
              type: DEPENDENT
              key: 'purefa_volume_space_bytes["virtual","{#VOLUME}","{#VOLUME_ID}","{#VOLUME_GROUP}"]'
              delay: '0'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_space_bytes{name="{#VOLUME}",space="virtual"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: virtual
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
            - uuid: 4477592c00c64b1a8f920995530af9a8
              name: '{#VOLUME}: Space Data Reduction'
              type: DEPENDENT
              key: 'purefa_volume_space_data_reduction_ratio["{#VOLUME}","{#VOLUME_ID}","{#VOLUME_GROUP}"]'
              delay: '0'
              value_type: FLOAT
              preprocessing:
                - type: PROMETHEUS_PATTERN
                  parameters:
                    - 'purefa_volume_space_data_reduction_ratio{name="{#VOLUME}"}'
                    - value
                    - ''
              master_item:
                key: purefa_raw_metrics
              tags:
                - tag: entity
                  value: volume
                - tag: pod
                  value: '{#POD}'
                - tag: scope
                  value: capacity
                - tag: scope
                  value: space
                - tag: space
                  value: 'data reduction'
                - tag: volume
                  value: '{#VOLUME}'
                - tag: volume_group
                  value: '{#VOLUME_GROUP}'
                - tag: volume_id
                  value: '{#VOLUME_ID}'
          graph_prototypes:
            - uuid: d7a9b486161347c4b4d4263671f76d3c
              name: '{#VOLUME}: Bandwidth'
              width: '1000'
              height: '400'
              graph_items:
                - color: 1A7C11
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_volume_performance_bandwidth_bytes["read_bytes_per_sec",{#VOLUME},{#VOLUME_ID}]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_volume_performance_bandwidth_bytes["write_bytes_per_sec",{#VOLUME},{#VOLUME_ID}]'
            - uuid: bb584b360b464d1a930a4a9c42957ed6
              name: '{#VOLUME}: IOPS'
              width: '1000'
              height: '400'
              graph_items:
                - color: 1A7C11
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_volume_performance_throughput_iops["reads_per_sec",{#VOLUME},{#VOLUME_ID}]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_volume_performance_throughput_iops["writes_per_sec",{#VOLUME},{#VOLUME_ID}]'
            - uuid: 7ec324983abe42f888bb1ea07793a3d1
              name: '{#VOLUME}: IO Size'
              width: '1000'
              height: '400'
              graph_items:
                - color: 1A7C11
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_volume_performance_average_bytes["bytes_per_read",{#VOLUME},{#VOLUME_ID}]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_volume_performance_average_bytes["bytes_per_write",{#VOLUME},{#VOLUME_ID}]'
            - uuid: 8588a29e2da144568a107fe30f01ff5b
              name: '{#VOLUME}: Latency'
              width: '1000'
              height: '400'
              graph_items:
                - color: 1A7C11
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_volume_performance_latency_usec["usec_per_read_op",{#VOLUME},{#VOLUME_ID}]'
                - sortorder: '1'
                  color: '274482'
                  calc_fnc: ALL
                  item:
                    host: 'Template PureStorage FlashArray'
                    key: 'purefa_volume_performance_latency_usec["usec_per_write_op",{#VOLUME},{#VOLUME_ID}]'
          master_item:
            key: purefa_raw_metrics
          lld_macro_paths:
            - lld_macro: '{#HELP}'
              path: '$[''help'']'
            - lld_macro: '{#METRIC}'
              path: '$[''name'']'
            - lld_macro: '{#POD}'
              path: '$.labels[''pod'']'
            - lld_macro: '{#VOLUME_GROUP}'
              path: '$.labels[''volume_group'']'
            - lld_macro: '{#VOLUME_ID}'
              path: '$.labels[''naa_id'']'
            - lld_macro: '{#VOLUME}'
              path: '$.labels[''name'']'
          preprocessing:
            - type: PROMETHEUS_TO_JSON
              parameters:
                - 'purefa_volume_space_bytes{name =~".*",space="total_provisioned"}'
      macros:
        - macro: '{$API_TOKEN}'
          type: SECRET_TEXT
          description: 'Define API Token for read-only access'
        - macro: '{$EXPORTER}'
          value: nl-pure-fa-exporter.prod.env
